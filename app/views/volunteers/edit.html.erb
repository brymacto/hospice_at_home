<%= link_to 'Delete this volunteer', volunteer_path(@volunteer), class: [:button, 'float_right'], method: :delete, data: { confirm: 'Are you sure?' } %>
<h1>Edit volunteer: <%= @volunteer.name %></h1>
<%= render "form" %>

<h2>Specialties</h2>
<% if @volunteer_specialties && @volunteer_specialties.size > 0 %>
    <% @volunteer_specialties.each do |volunteer_specialty| %>
        <span class="badge badge-notice"><%= link_to volunteer_specialty.name, volunteer_specialty %></span>
    <% end %>
<% else %>
    <p><%= @volunteer.name %> has no specialties.</p>
<% end %>

<h3>Add specialty</h3>
<%= form_for @volunteer, url: {action: 'add_volunteer_specialty'} do |f| %>
    <%= label_tag(:volunteer_specialty, "Specialty") %>
    <%= f.select :volunteer_specialty_ids, @volunteer_specialties_options.collect{ |volunteer_specialty| [volunteer_specialty.name, volunteer_specialty.id] }, class: 'form_field' %>
    <%= f.submit "Add specialty" %>
<% end %>
<h2>Availability</h2>
<table>
  <tr>
    <th>Day</th>
    <th>Start time</th>
    <th>End time</th>
    <th>Actions</th>
  </tr>

  <% @volunteer_availabilities.each do |volunteer_availability| %>
      <tr>
        <td><%= volunteer_availability.day.capitalize %></td>
        <td><%= volunteer_availability.start_hour %></td>
        <td><%= volunteer_availability.end_hour %></td>
        <td>
          <%= link_to 'Edit', edit_volunteer_availability_path(volunteer_availability) %>,
          <%= link_to 'Delete', volunteer_availability_path(volunteer_availability),
                      method: :delete
          %>
        </td>
      </tr>
  <% end %>
</table>
<h3>Add new availability</h3>
<%= form_for @volunteer_availability, url: add_volunteer_availabilities_volunteer_path(@volunteer) do |f| %>
    <div class="width33">
      <%= label_tag(:day, "Day") %>
      <%= f.select :day, @day_options, class: 'form_field' %>
    </div>
    <div class="width33">
      <%= label_tag(:start_hour, "Start time") %>
      <%= f.text_field :start_hour, class: 'form_field', type: 'number', min: 0, max: 23 %>
    </div>
    <div class="width33">
      <%= label_tag(:end_hour, "End time") %>
      <%= f.text_field :end_hour, class: 'form_field', type: 'number', min: 1, max: 24 %>
    </div>
    <div style="clear:both">
    <%= f.submit "Add availability" %>
    </div>
<% end %>


